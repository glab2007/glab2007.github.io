<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">

<head>
<title>Описание обменного формата MapInfo MIF (MapInfo Interchange Format) &frasl;GLab&copy;2007&frasl;</title>

<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="content-type" content="text/css; charset=utf-8" />
<meta name="Author" content="GLab&copy;2007 http://www.glab2007.narod.ru" />
<meta name="Description" content="Полное описание обменного формата MapInfo MID/MIF (MapInfo Interchange Format &amp; MapInfo Interchange Delimeter) на русском языке на сайте проекта GLab&copy;2007." />
<meta name="KeyWords" content="mapInfo interchange format, mid, mif, описание формата" />

<link rel="shortcut icon" href="../i/favicon.ico" type="image/x-icon" />
<link rel="icon" href="../i/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" href="../style.css" />

<script src="https://yastatic.net/es5-shims/0.0.2/es5-shims.min.js" charset="utf-8"></script>
<script src="https://yastatic.net/share2/share.js" async="async" charset="utf-8"></script>
<script type="text/javascript" src="../scripts.js"></script>

</head>
<body>

<div id="left">
	<ul>
		<li class="home"><a href="../main.html" title="На главную">На <br />главную</a></li>
		<li class="news"><a href="../index.html" title="Новости" style="line-height: 36px; ">Новости</a></li>
		<li class="query"><a href="../query.html" title="Топ запросов">Топ<br />запросов</a></li>
		<li class="article"><a id="item" href="../article.html" title="Статьи" style="line-height: 36px; ">Статьи</a></li>
		<li class="download"><a href="../download.html" title="Загрузка" style="line-height: 36px; ">Загрузка</a></li>
		<li class="links"><a href="../links.html" title="Ссылки">Каталог<br />ссылок</a></li>
		<li class="about"><a href="../about.html" title="О проекте">О<br />проекте</a></li>
		<li class="contact"><a href="../contact.html" title="Контактная информация" style="line-height: 36px; ">Контакты</a></li>
		<li class="search"><a href="../main.html#search" title="Поиск">Поиск<br />по сайту</a></li>
		<li class="map"><a href="../map.html" title="Карта сайта">Карта<br />сайта</a></li>
	</ul>
</div>
<div id="arrow">
	<a href="#">
		<img src="../i/arr.gif" alt="Вверх" />
	</a>
</div>
<div class="ya-share2" data-services="vkontakte,facebook,linkedin,viber"></div>

<div id="top"></div>

<div id="border_left"><div id="border_right"><div id="border_top"><div id="border_bottom">
	<div id="content">

		<h1 class="article">
			Описание обменного формата MapInfo MIF (MapInfo Interchange Format)
		</h1>
		<hr class="split" />

		<p class="small">
			Если некто решит поискать в Интернете описание обменного формата MapInfo (MID/MIF), то столкнётся с парадоксальной ситуацией. Несмотря на широкое распространение самой программы и ещё большее распространение обменного формата, список выдачи поисковика будет весьма невелик. А если отбросить рекламный мусор, то результат сведётся к десятку ссылок, которые, к тому же, приводят один и тот же текст. За разным авторством, в разном оформлении, с меньшими или большими искажениями разные сайты цитируют небрежно вырванный кусок из &laquo;Руководства Пользователя MapInfo&raquo; то ли 5-й, то ли 6-й версии.
		</p>
		<p class="small">
			Вряд ли это делается по злому умыслу. Ранние версии документации были оформлены (по объективным причинам) крайне ненаглядно и мало кому удавалось дочитать до &laquo;Приложения J&raquo; на 500-какой-то странице. Не говоря уже о том, чтобы визуально запомнить этот текст. А, начиная с версии 8.0 данный раздел вообще исчез из &laquo;Руководства&raquo; и вернулся только в версии 12.0, правда, существенно переработанный и не столь наглядный.
		</p>
		<p class="small">
			Попробуем исправить положение, скомпилировав нужные главы &laquo;Руководства Пользователя&raquo; от разных версий.
		</p>
		<hr class="split" />

<!--toc-->
		<ul id="toc">
			<li><a href="#ch1">Введение</a></li>
			<li>
				<a href="#ch2">Заголовок файла формата MIF</a>
				<ul>
					<li><a href="#ch2-1">Предложение Version</a></li>
					<li><a href="#ch2-2">Предложение CharSet</a></li>
					<li><a href="#ch2-3">Предложение Delimiter</a></li>
					<li><a href="#ch2-4">Предложение Unique</a></li>
					<li><a href="#ch2-5">Предложение Index</a></li>
					<li><a href="#ch2-6">Предложение CoordSys</a></li>
					<li><a href="#ch2-7">Предложение Transform</a></li>
					<li><a href="#ch2-8">Предложение Columns</a></li>
				</ul>
			</li>
			<li>
				<a href="#ch3">Секция данных в файлах формата MIF</a>
				<ul>
					<li><a href="#ch3-1">точка</a></li>
					<li><a href="#ch3-2">линия</a></li>
					<li><a href="#ch3-3">полилиния</a></li>
					<li><a href="#ch3-4">область</a></li>
					<li><a href="#ch3-5">дуга</a></li>
					<li><a href="#ch3-6">текст</a></li>
					<li><a href="#ch3-7">прямоугольник</a></li>
					<li><a href="#ch3-8">скругленный прямоугольник</a></li>
					<li><a href="#ch3-9">эллипс</a></li>
					<li><a href="#ch3-10">группа точек</a></li>
					<li><a href="#ch3-11">коллекция</a></li>
				</ul>
			</li>
			<li>
				<a href="#ch4">Коды типов линий, штриховки, символов и шрифтов</a>
				<ul>
					<li><a href="#ch4-1">Предложение Pen</a></li>
					<li><a href="#ch4-2">Предложение Brush</a></li>
					<li><a href="#ch4-3">Предложение Symbol</a></li>
					<li><a href="#ch4-4">Предложение Font</a></li>
					<li><a href="#ch4-5">Предложение Color</a></li>
				</ul>
			</li>
			<li><a href="#ch5">Файл формата MID</a></li>
			<li><a href="#ch6">Список литературы</a></li>
		</ul>
		<hr class="split" />

<!--1-->
		<h2 id="ch1">Введение</h2>
		<p>
			В этой статье описан формат обмена данными MapInfo MID/MIF.
		</p>
		<p>
			Этот универсальный формат позволяет сопоставлять различным графическим элементам настраиваемые данные. MIF-файл является текстовым (ASCII), поэтому файлы в таком формате можно редактировать, достаточно легко генерировать, причем они будут работать в любых системах, где работает MapInfo. Возможно, оптимальным способом изучения MapInfo Interchange Format (MIF) является просмотр примеров, приведенных в этой статье, по ходу чтения описания формата. Вы можете также создать свои примеры, экспортировав какие-нибудь файлы в формат MIF, а затем просматривать их в текстовом редакторе.
		</p>
		<p>
			Данные MapInfo хранятся в двух файлах: графическая информация содержится в файлах с расширением MIF, а текстовая &ndash; в файлах с расширением MID. Каждая строка текстовых данных отделяется от следующей строки либо символом возврата каретки (Carriage Return), либо символом возврата каретки вместе с новой строкой (Line Feed), либо только символом новой строки. MIF-файл состоит из двух частей: заголовка и секции данных. Заголовок файла содержит информацию о том, как создавать таблицы MapInfo, а секция данных содержит определения графических объектов.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--2-->
		<h2 id="ch2">Заголовок файла формата MIF</h2>
		<p>
			Заголовок файла формата MIF имеет следующий вид (в квадратные скобки взята информация, которая может отсутствовать).
		</p>
		<p class="code">
	VERSION n<br />
	CharSet &quot;char_set&quot;<br />
	[ DELIMITER &quot;&lt;с&gt;&quot; ]<br />
	[ UNIQUE n,n.. ]<br />
	[ INDEX n, n.. ]<br />
	[ COORDSYS... ]<br />
	[ TRANSFORM... ]<br />
	COLUMNS n<br />
		&lt;имя&gt; &lt;тип&gt;<br />
		&lt;имя&gt; &lt;тип&gt;
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	2-1-->
		<h3 id="ch2-1">Предложение Version (Версия)</h3>
		<p>
			Для правильной обработки MIF-файла MapInfo необходимо знать, в какой версии программы он был создан. Номер версии задаётся предложением VERSION:
		</p>
		<p>
			<span class="code">VERSION 1</span> или <span class="code">VERSION 2</span> или <span class="code">VERSION 300</span> или <span class="code">VERSION 450</span> и так далее.
		</p>
		<ul>
			<li>MIF-файл всегда сохраняется с номером версии 300, если иное не задано в исходной таблице.</li>
			<li>После того, как таблица однажды была обновлена на более новую версию, MapInfo Professional никогда не понижает номер её версии на меньшее значение, даже когда характеристика, вызвавшая обновление, удалена.</li>
			<li>Параметры Pen(0,0,0) и Brush(0,0,0), которые можно было использовать в таблицах MapInfo Professional 4.1, запрещены в MapInfo Professional 4.5 и более новых версиях.</li>
			<li>Толщина линии, заданная предложением Pen, соответствует указанному значению, умноженному на 10, плюс 10 (.2 &rarr; 12, 1.0 &rarr; 20, и т. п.). При этом в заголовке MIF-файла номер версии меняется на 450.</li>
		</ul>
		<p>
			Все изменения (и их следствия) в TAB- и MIF-файлах, рабочих наборах и других служебных файлах MapInfo Professional перечислены в соответствующей таблице <b>Приложения D</b> &laquo;Руководства Пользователя&raquo; MapInfo версии 12.5.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	2-2-->
		<h3 id="ch2-2">Предложение CharSet (Набор символов)</h3>
		<p>
			В предложении CharSet указывается, набор символов какой кодовой страницы используется в таблице. Например, &laquo;WindowsLatin1&raquo; означает, что используется стандартная для США и Западной Европы кодовая страница Windows (так называемая &laquo;ANSI кодировка&raquo; или &laquo;кодовая страница 1251&raquo;); &laquo;WindowsCyrillic&raquo; обозначает стандартный для России набор символов Windows (кодовая страница 1252); &laquo;MacRoman&raquo; обозначает стандартный набор символов Macintosh US & Western Europe. Если указать слово &laquo;Neutral&raquo;, то MapInfo не будет выполнять преобразование символов в текущую кодовую страницу Windows.
		</p>
		<p>
			Если Вы не знаете точно, как обозначается используемый Вами набор символов, то выполните экспорт таблицы и изучите MIF–файл с помощью текстового редактора. Название используемого набора символов будет указано в предложении CharSet, например:
		</p>
		<p class="code">
	Charset &quot;WindowsCyrillic&quot;
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	2-3-->
		<h3 id="ch2-3">Предложение Delimiter (Разделитель)</h3>
		<p>
			Здесь в двойных кавычках указывается символ, использующийся в качестве разделителя, например:
		</p>
		<p class="code">
	DELIMITER &quot;;&quot;
		</p>
		<p>
			Стандартное значение разделителя &ndash; символ табуляции; при использовании стандартного разделителя строка DELIMITER может быть опущена.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	2-4-->
		<h3 id="ch2-4">Предложение Unique (Уникальная колонка)</h3>
		<p>
			Здесь задается число. Это число указывает на столбец в базе данных: 3 указывает на третий столбец, 7 &ndash; на седьмой и так далее. Что происходит со столбцами, перечисленными в списке UNIQUE? Представим, например, что имеется база данных о шоссейных дорогах. Каждому шоссе соответствует единственное название, но шоссе может распадаться на несколько участков (которым сопоставлены отдельные записи). Поместите столбец NAME в список UNIQUE, а столбец сегментов не указывайте в этом списке. В результате будут созданы две соединенные таблицы: таблица имен и таблица прочих атрибутов объектов. Именно таким образом разрабатывались различные таблицы улиц для Pitney Bowes Software Inc. (таблицы StreetPro).
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	2-5-->
		<h3 id="ch2-5">Предложение Index (Индекс)</h3>
		<p>
			Числа, указанные в этом предложении, представляют собой номера тех колонок таблицы, для которых определены индексы. При этом колонки нумеруются, начиная с единицы так, что число 3 означает, что индекс определен для третьей колонки, число 7 &ndash; для седьмой и т.д. Колонки в списке INDEX будут пронумерованы в соответствии с этими числами.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	2-6-->
		<h3 id="ch2-6">Предложение CoordSys (Координатная система)</h3>
		<p>
			Предложение COORDSYS задается для того, чтобы указать, что данные хранятся НЕ в проекции Широты/Долготы. Если предложение COORDSYS отсутствует, то предполагается, что данные приведены в проекции Широта/Долгота.
		</p>
		<p>
			Все координаты приводятся относительно северо-восточного квадранта. Координаты объектов на территории США имеют отрицательную координату X, а координаты объектов в России и Европе (к востоку от Гринвича) имеют положительные координаты по оси X. Объектам в северном полушарии соответствуют положительные координаты Y, а объектам в южном полушарии &ndash; отрицательные координаты Y.
		</p>
		<p>
			Синтаксис записи предложения CoordSys:
		</p>
		<p class="code">
	CoordSys Earth<br />
		[ Projection type, datum, unitname<br />
		[ , origin_longitude]<br />
		[ , origin_latitude ]<br />
		[ , standard_parallel_1 [ , standard_parallel_2 ] ]<br />
		[ , azimuth ]<br />
		[ , scale_factor ]<br />
		[ , false_easting ]<br />
		[ , false_northing]<br />
		[ , range ] ]<br />
		[ Affine Units unitname, A, B C, D, E, F ]<br />
		[ Bounds ( minx, miny) ( maxx, maxy) ]
		</p>
		<p>
			или
		</p>
		<p class="code">
	CoordSys Nonearth<br />
		[ Affine Units unitname, A, B C, D, E, F ]<br />
		Units unitname<br />
		Bounds ( minx, miny) ( maxx, maxy)
		</p>
		<p>
			или
		</p>
		<p class="code">
	CoordSys Layout Units paperunitname
		</p>
		<p>
			или
		</p>
		<p class="code">
	CoordSys Table tablename
		</p>
		<p>
			или
		</p>
		<p class="code">
	CoordSys Window window_id
		</p>
		<p>
			где:
		</p>
		<ul>
			<li><code>type</code> &ndash; положительное целое число , показывающее, какая координатная система используется;</li>
			<li><code>datum</code> &ndash; положительное целое число , указывающее какой регион используется;</li>
			<li><code>unitname</code> &ndash; строковая величина, показывающая, какие единицы измерения используются (например, "m" для метров);</li>
			<li><code>origin_longitude</code> &ndash; вещественное число, в градусах, показывающее долготу;</li>
			<li><code>origin_latitude</code> &ndash; вещественное число, в градусах, показывающее широту;</li>
			<li><code>standard_parallel_1</code> и <code>standard_parallel_2</code> &ndash; вещественные значения широты, в градусах;</li>
			<li><code>azimuth</code> &ndash; вещественная величина, угол измерения в градусах;</li>
			<li><code>scale_factor</code> &ndash; вещественная величина, масштабный множитель;</li>
			<li><code>range</code> &ndash; вещественная величина, от 1 до 180, предписывающая, какая часть земной поверхности будет показана;</li>
			<li><code>minx</code> &ndash; вещественная величина, определяющая минимальное значение x;</li>
			<li><code>miny</code> &ndash; вещественная величина, определяющая минимальное значение y;</li>
			<li><code>maxx</code> &ndash; вещественная величина, определяющая максимальное значение x;</li>
			<li><code>maxy</code> &ndash; вещественная величина, определяющая максимальное значение y;</li>
			<li><code>paperunitname</code> &ndash; строковая величина, представляющая "бумажные" единицы измерения (например , "in" для дюймов );</li>
			<li><code>tablename</code> &ndash; имя открытой таблицы;</li>
			<li><code>window_id</code> &ndash; целая величина, идентификатор окна, соотнесенного с окном Карты или Отчета;</li>
			<li><code>A</code> представляет масштабирование или растяжение вдоль оси X.</li>
			<li><code>B</code> представляет поворот или отклонение вдоль оси X.</li>
			<li><code>C</code> представляет сдвиг вдоль оси X.</li>
			<li><code>D</code> представляет масштабирование или растяжение вдоль оси Y.</li>
			<li><code>E</code> представляет поворот или отклонение вдоль оси Y.</li>
			<li><code>F</code> представляет сдвиг вдоль оси Y.</li>
		</ul>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	2-7-->
		<h3 id="ch2-7">Предложение Transform (Преобразование)</h3>
		<p>
			Если в файле MIF записаны координаты относительно северо-западного квадранта (квадрант 2), то Вы можете задать преобразование этих координат к северо-восточному квадранту (квадрант 1) в предложении Transform.
		</p>
		<table border="1px">
			<tr>
				<td>
					Квадрант 2:<br />
					Северо-западный квадрант
				</td>
				<td>
					Квадрант 1:<br />
					Северо-восточный квадрант
				</td>
			</tr>
			<tr>
				<td>
					Квадрант 3:<br />
					Юго-западный квадрант
				</td>
				<td>
					Квадрант 4:<br />
					Юго-восточный квадрант
				</td>
			</tr>
		</table>
		<p>
			Данное предложение имеет следующую форму:
		</p>
		<p class="code">
	TRANSFORM множитель_Х, множитель_Y, смещение_Х, смещение_Y
		</p>
		<p>
			Чтобы задать преобразование из данных по квадранту 2 в данные по квадранту 1, задайте следующее предложение Transform:
		</p>
		<p class="code">
	TRANSFORM -1, 0, 0, 0
		</p>
		<p>
			Нули означают, что MapInfo игнорирует данные параметры.
		</p>
		<p>
			Если Вы работаете с программой, создающей файлы формата MIF с координатами для квадранта 2, Вы можете:
		</p>
		<ul>
			<li>добавлять предложения TRANSFORM в файлы MIF;</li>
			<li>внести изменение в программу, чтобы она вырабатывала координаты для квадранта 1;</li>
			<li>внести изменение в программу, чтобы она добавляла предложение TRANSFORM в каждый MIF-файл.</li>
		</ul>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>


<!--	2-8-->
		<h3 id="ch2-8">Предложение Columns (Колонки)</h3>
		<p>
			Здесь задается число столбцов. Затем, для каждого столбца в отдельной строке указывается название столбца, тип данных в нем, а также размер поля (для столбцов, содержащих строки и десятичные числа). Возможны следующие типы столбцов:
		</p>
		<ul>
			<li>char (длина поля)</li>
			<li>integer (4 байта)</li>
			<li>smallint (2 байта, так что допустимы числа в диапазоне от -32767 до &plus;32767)</li>
			<li>decimal (длина поля, число цифр после запятой)</li>
			<li>float</li>
			<li>data</li>
			<li>logical</li>
		</ul>
		<p>
			Вот пример раздела столбцов в заголовке:
		</p>
		<p class="code">
	COLUMNS 3<br />
		STATE char (15)<br />
		POPULATION Integer<br />
		AREA decimal (8,4)
		</p>
		<p>
			Файл MID должен содержать следующие три столбца данных, указанные в заголовке:
		</p>
		<ul>
			<li>столбец STATE: 15-символьное поле;</li>
			<li>столбец POPULATION: поле целых чисел;</li>
			<li>столбец AREA: поле десятичных чисел, состоящих из не более чем 8 цифр, в том числе из 4 цифр после запятой.</li>
		</ul>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--3-->
		<h2 id="ch3">Секция данных в файлах формата MIF</h2>
		<p>
			Секция данных в файлах формата MIF следует после заголовка и должна начинаться со слова DATA на отдельной строке:
		</p>
		<p class="code">
	DATA
		</p>
		<p>
			Секция данных MIF-файла может содержать любое число графических примитивов, по одному для каждого графического объекта. MapInfo сравнивает разделы файлов формата MIF и MID, сопоставляя первому объекту в MIF-файле первую строку MID-файла, второму объекту MIF-файла вторую строку MID-файла и так далее.
		</p>
		<p>
			Если для строки MID-файла не найдено соответствующего графического объекта, то создается &laquo;пустой&raquo; объект (NONE) в соответствующей позиции MIF-файла.
		</p>
		<p class="code">
	NONE
		</p>
		<p>
			Могут использоваться следующие графические объекты:
		</p>
		<ul>
			<li>точка</li>
			<li>линия</li>
			<li>полилиния</li>
			<li>область</li>
			<li>дуга</li>
			<li>текст</li>
			<li>прямоугольник</li>
			<li>скругленный прямоугольник</li>
			<li>эллипс</li>
			<li>группа точек</li>
			<li>коллекция</li>
		</ul>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-1-->
		<h3 id="ch3-1">Точка</h3>
		<p>
			Объект типа точка имеет два параметра: координату Х и координату Y. Может также быть указан вид символа, которым обозначается данная точка. Для символа указывается номер. Если не задан символ, для обозначения точки используется текущий символ.
		</p>
		<p class="code">
	POINT x у [ Symbol (shape, color, size) ]
		</p>
		<p>
			Каждая версия MapInfo поддерживает разные символы предложения SYMBOL.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-2-->
		<h3 id="ch3-2">Линия</h3>
		<p>
			Объект типа линия должен иметь четыре обязательных параметра: координаты X и Y для двух концевых точек. Может также быть указан тип линии. Если тип линии не задан, то используется текущий тип линий.
		</p>
		<p class="code">
	LINE x1 y1 x2 y2 [ PEN (width, pattern, color) ]
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-3-->
		<h3 id="ch3-3">Полилиния</h3>
		<p>
			Объект типа полилиния может состоять как из одной, так и из нескольких секций. Если полилиния состоит из нескольких секций, то в ее описание следует включить ключевое слово MULTIPLE, за которым должно быть указано количество секций numsections. При этом, для каждой секции обязательно должно быть задано число точек, из которых она состоит (аргумент numpts) и, следом за ним, координаты x/y каждой точки. Для выбора стиля линии используется предложение PEN (см. ниже). Если использовать слово SMOOTH, то полилиния будет сглажена.
		</p>
		<p class="code">
	PLINE [ MULTIPLE numsections ]<br />
		numpts1<br />
		x1 y1<br />
		x2 y2<br />
		(…)<br />
		[ numpts2<br />
		 x1 y1<br />
		 x2 y2 ]<br />
		[ PEN (width, pattern, color) ]<br />
		[ SMOOTH ]
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-4-->
		<h3 id="ch3-4">Область</h3>
		<p>
			Объект типа область может состоять из одного или нескольких полигонов. Число полигонов, из которых состоит область, задается сразу после ключевого слова REGION (аргумент numpolygons). Для каждого полигона следует указать число его вершин (параметр numpts) и их координаты x/y. Дополнительно, с помощью ключевых слов PEN и BRUSH, можно задать стиль области (см. ниже). Ключевое слово CENTER позволяет явно задать координаты центроида области. Указание центроида сокращает время импорта и экспорта.
		</p>
		<p class="code">
	REGION numpolygons<br />
		numpts1<br />
		x1 y1<br />
		x2 y2<br />
		(…)<br />
		[ numpts2<br />
		 x1 y1<br />
		 x2 y2 ]<br />
		[ PEN (width, pattern, color) ]<br />
		[ BRUSH (pattern, fgcolor,  bgcolor) ]<br />
		[ CENTER x y ]
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-5-->
		<h3 id="ch3-5">Дуга</h3>
		<p>
			Для объекта типа дуга должны быть указаны противоположные по диагонали углы описанного прямоугольника, а также начальный (a) и конечный (b) углы дуги в градусах, считая против хода часовой стрелки (нуль в положении стрелки в 15.00). Может также быть указан тип линии.
		</p>
		<p class="code">
	ARC x1 y1 x2 y2<br />
		a b<br />
		[ PEN (width, pattern, color) ]
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-6-->
		<h3 id="ch3-6">Текст</h3>
		<p>
			Содержание Текстового объекта задается строкой текста, длина которой не должна превышать 255 символов. Для того чтобы расположить текст на экране в несколько строк, вставьте символы &laquo;\n&raquo; в места переноса строки (например, &laquo;Первая строка\n Вторая строка \n Третья строка&raquo;). Параметры x1, y1, x2, и y2 задают положение текста на карте (определяют противоположные углы описанного прямоугольника). Интервал между строчками может быть равен 1.0 (один интервал), 1.5 или 2.0 (двойной интервал). С помощью ключевого слова FONT (см. ниже) можно задать начертание шрифта и многие другие атрибуты текста.
		</p>
		<p class="code">
	TEXT &quot;textstring&quot;<br />
		x1 y1 x2 y2<br />
		[ FONT... ]<br />
		[ Spacing {1.0 | 1.5 | 2.0} ]<br />
		[ Justify {Left | Center | Right} ]<br />
		[ Angle text_angle ]<br />
		[ Label Line {simple | arrow} x y ]
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-7-->
		<h3 id="ch3-7">Прямоугольник</h3>
		<p>
			Для прямоугольника задаются координаты его противоположных углов. Может также быть указан тип линий и штриховки.
		</p>
		<p class="code">
	RECT x1 y1 x2 y2<br />
		[ PEN (width, pattern, color) ]<br />
		[ BRUSH (pattern, forecolor, backcolor) ]
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-8-->
		<h3 id="ch3-8">Скруглённый прямоугольник</h3>
		<p>
			Для скруглённого прямоугольника задаются координаты его противоположных углов, а также степень сглаживания (a). Может также быть указан тип линий и штриховки. Степень сглаживания выражается в координатных единицах.
		</p>
		<p class="code">
	ROUNDRECT x1 y1 x2 y2<br />
		a<br />
		[ PEN (width, pattern, color) ]<br />
		[ BRUSH (pattern, forecolor, backcolor) ]
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-9-->
		<h3 id="ch3-9">Скруглённый прямоугольник</h3>
		<p>
			Для эллипса задаются координаты противоположных углов описанного прямоугольника. Может также быть указан тип линий и штриховки.
		</p>
		<p class="code">
	ELLIPSE x1 y1 x2 y2<br />
		[ PEN (width, pattern, color) ]<br />
		[ BRUSH (pattern, forecolor, backcolor) ]
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-10-->
		<h3 id="ch3-10">Группа точек</h3>
		<p>
			Объект Группа точек использует несколько параметров, состоящих из пар координат xy. Число точек задается параметром num_points. Символы задаются дополнительным параметром Symbol. Если параметр SYMBOL пропущен, то используется текущий символ.
		</p>
		<p class="code">
	MULTIPOINT num_points<br />
		 x1 y1 x2 y2 x3 y3 (...)<br />
		[ Symbol (shape, color, size) ]
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	3-11-->
		<h3 id="ch3-11">Коллекция</h3>
		<p>
			Объект Коллекция использует несколько групп параметров, состоящих из параметров тех объектов, которые включены в коллекцию. Индивидуальные параметры для Region, Pline и Multipoint, входящих в коллекцию, такие же, как и в соответствующих одиночных типах объектов. Параметр num_parts требуется, если число частей коллекции менее трех. Если это число пропущено, то оформление будет таким, как если бы коллекция содержала все три части. При экспорте MapInfo всегда записывает это число в MIF файл. Например:
		</p>
		<p class="code">
	Collection 3<br />
		Region 1<br />
		4<br />
		 14.850832 20.077456<br />
		 15.850832 21.077456<br />
		 16.850832 23.077456<br />
		 14.850832 20.077456<br />
		 Pen (1,2,0)<br />
		 Brush (2,16777215,16777215)<br />
		 Center 8.850832 14.577456<br />
	Pline 3<br />
		-7.149168 0.077456<br />
		-3.149168 -2.922544<br />
		-2.149168 2.077456<br />
		Pen (1,2,0)<br />
	Multipoint 2<br />
		-6.149168 -0.922544<br />
		-5.149168 0.077456<br />
		Symbol (35,0,12)<br />
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--4-->
		<h2 id="ch4">Коды типов линий, штриховки, символов и шрифтов в файлах формата MIF</h2>

<!--	4-1-->
		<h3 id="ch4-1">Предложение Pen (стиль линии)</h3>
		<p>
			Предложение PEN задает ширину, тип и цвет линейных объектов, таких как линия, полилиния и дуга. Предложение PEN имеет следующий синтаксис:
		</p>
		<p class="code">
	PEN (width, pattern, color)
		</p>
		<p>
			где
		</p>
		<ul>
			<li><code>width</code> &ndash; толщина (ширина) линии;</li>
			<li><code>pattern</code> &ndash; тип линии;</li>
			<li><code>color</code> &ndash; цвет линии в системе RGB.</li>
		</ul>
		<p>
			Ширина задается числом от 0 до 7, при этом линия нулевой ширины невидима на экране. 11-2047 это значения, которые могут быть преобразованы в пункты:
		</p>
		<p class="code">
	ширина линии = (число пунктов * 10) &plus; 10
		</p>
		<p>
			Цвет задается в виде целого числа, задающего 24-битовое RGB-значение цвета.
		</p>
		<p>
			Типы линий обозначаются кодами от 1 до 118; тип 1 представляет собой невидимую линию. Номер типа линии соответствует номеру типа линии в файле, определяющем линии. Этот файл может редактироваться в редакторе стиля линий. Номера в файле линий не могут превышать 127. Если линии перекрещивающиеся, то 128 будет добавлено к номеру линии.
		</p>
		<p>
			Стили перекрещивающихся линий имеют номера 129-255. Поскольку файл с линиями может редактироваться, и могут определяться пересекающиеся типы линий, то номера линий в совокупности могут быть от 1 до 255.
		</p>
		<p>
			Ниже приводится таблица, содержащая пример типов линий и их кодов:
		</p>
		<div style="width: 200px !important; ">
			<a href="midmif/pen.png" title="Развернуть"><img src="midmif/pen.png" alt="Рис. 1" width="200px" height="200px" /></a>
		</div>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	4-2-->
		<h3 id="ch4-2">Предложение Brush (штриховка)</h3>
		<p>
			Brush задает шаблон, основной цвет и цвет фона объектов, имеющих площадь, таких, как окружность или область.
		</p>
		<p class="code">
	Brush (pattern, forecolor [, backcolor ])
		</p>
		<p>
			где
		</p>
		<ul>
			<li><code>pattern</code> &ndash; тип штриха;</li>
			<li><code>forecolor </code> &ndash; цвет штриха в системе RGB;</li>
			<li><code>backcolor </code> &ndash; цвет фона в системе RGB.</li>
		</ul>
		<p>
			Основной цвет и цвет фона задаются в виде 24- битового RGB значения.
		</p>
		<p>
			Шаблон задается числом от 1 до 71, при этом в шаблоне с номером 1 оба цвета отсутствуют, а в шаблоне 2 отсутствует цвет фона. Шаблоны с кодами 9-11 зарезервированы для внутренних целей.
		</p>
		<p class="passage">
			Внимание: Получить прозрачный цвет фона (для стилей с номерами 3 и выше) можно, опустив параметр backcolor в предложении Brush. Например: Brush (5,255).
		</p>
		<p>
			Ниже приводится таблица кодов и соответствующих им рисунков штриховок. Заметим ещё раз, что для штриха номер 1 (прозрачный) или 2 (ровная заливка), параметр backcolor не влияет на заливку.
		</p>
		<div style="width: 200px !important; ">
			<a href="midmif/brush.png" title="Развернуть"><img src="midmif/brush.png" alt="Рис. 2" width="200px" height="210px" /></a>
		</div>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	4-3-->
		<h3 id="ch4-3">Предложение Symbol (стиль символа)</h3>
		<p>
			Предложение Symbol определяет то, в каком виде появится точечный объект. Есть три различные формы предложения Symbol:
		</p>
		<ul>
			<li>Синтаксис для MapInfo 3.0</li>
			<li>Синтаксис для шрифта TrueType</li>
			<li>Синтаксис для растровых символов</li>
		</ul>
		<p class="code">
	Brush (pattern, forecolor [, backcolor ])
		</p>
		<p>
			где
		</p>
		<ul>
			<li><code>pattern</code> &ndash; тип штриха;</li>
			<li><code>forecolor </code> &ndash; цвет штриха в системе RGB;</li>
			<li><code>backcolor </code> &ndash; цвет фона в системе RGB.</li>
		</ul>

		<h4>Предложение Symbol. Синтаксис для MapInfo 3.0</h4>
		</p>
		<p>
			Для версии MapInfo 3.0 используется следующий символ:
		</p>
		<p class="code">
	SYMBOL (shape, color, size)
		</p>
		<p>
			Величина shape это целое, принимающее значения от 31 и выше ; 31 это пустой символ (объект невидим). Стандартный набор символов включает символы с номерами от 32 до 67.
		</p>
		<p>
			Аргумент color это целое, представляет значение цвета, 24-битного RGB.
		</p>
		<p>
			Аргумент size это размер символа, целое от 1 до 48, размер символа в пунктах.
		</p>
		<p>
			В этой таблице показаны эти символы, поставляющиеся с MapInfo:
		</p>
		<div style="width: 200px !important; ">
			<a href="midmif/symbol.png" title="Развернуть"><img src="midmif/symbol.png" alt="Рис. 3" width="200px" height="140px" /></a>
		</div>

		<h4>Предложение Symbol. Синтаксис для шрифта TrueType</h4>
		</p>
		<p>
			Для того чтобы оформить символы, созданные из шрифта TrueType, следует использовать следующую форму предложения Symbol:
		</p>
		<p class="code">
	SYMBOL (shape, color, size, fontname, fontstyle, rotation)
		</p>
		<p>
			Аргумент fontname &ndash; это текстовая строка, задающая название шрифта (например, &laquo;Wingdings&raquo;).
		</p>
		<p>
			Аргумент fontstyle &ndash; это целое число, управляющее оформительским эффектом, может принимать следующие значения.
		</p>
		<table border="1px">
			<tr>
				<td>
					<b>Fontstyle</b>
				</td>
				<td>
					<b>Эффект</b>
				</td>
			</tr>
			<tr>
				<td>
					0
				</td>
				<td>
					Обычный текст
				</td>
			</tr>
			<tr>
				<td>
					1
				</td>
				<td>
					Жирный текст
				</td>
			</tr>
			<tr>
				<td>
					16
				</td>
				<td>
					Черная кайма вокруг символа
				</td>
			</tr>
			<tr>
				<td>
					32
				</td>
				<td>
					Тень
				</td>
			</tr>
			<tr>
				<td>
					256
				</td>
				<td>
					Белая кайма вокруг символа
				</td>
			</tr>
		</table>
		<p>
			Чтобы скомбинировать два и более эффекта, числа нужно сложить. Чтобы, например, задать жирный шрифт с тенью, следует задать число 33.
		</p>
		<p>
			Аргумент rotation &ndash; это число с плавающей точкой, угол поворота в градусах.
		</p>

		<h4>Предложение Symbol. Синтаксис для растровых символов</h4>
		</p>
		<p>
			Для того, чтобы оформить растровые символы, следует использовать следующую форму предложения Symbol:
		</p>
		<p class="code">
	SYMBOL (filename, color, size, customstyle)
		</p>
		<p>
			Аргумент filename определяет название растрового файла (например, «Arrow.BMP») в каталоге CUSTSYMB. 
		</p>
		<p>
			Аргумент customstyle &ndash; это целое число, управляющее цветом символа и его фона: 
		</p>
		<table border="1px">
			<tr>
				<td>
					<b>Customstyle</b>
				</td>
				<td>
					<b>Эффект</b>
				</td>
			</tr>
			<tr>
				<td>
					0
				</td>
				<td>
					Флажки &laquo;Фон&raquo; и &laquo;Покрасить одним цветом&raquo; не установлены. Символ показывается стандартно. Все белые точки изображения становятся прозрачными и под ними видны объекты Карты.
				</td>
			</tr>
			<tr>
				<td>
					1
				</td>
				<td>
					Установлен флажок &laquo;Фон&raquo;. Все белые точки изображения становятся непрозрачными.
				</td>
			</tr>
			<tr>
				<td>
					2
				</td>
				<td>
					Установлен флажок &laquo;Покрасить одним цветом&raquo;. Все не белые точки изображения красятся в цвет символа.
				</td>
			</tr>
			<tr>
				<td>
					3
				</td>
				<td>
					Установлены флажки &laquo;Фон&raquo; и &laquo;Покрасить одним цветом&raquo;.
				</td>
			</tr>
		</table>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	4-4-->
		<h3 id="ch4-4">Предложение Font (шрифт)</h3>
		<p>
			Предложение Font определяет режимы представления текстовых объектов (шрифт, цвет и т.д.). Синтаксис:
		</p>
		<p class="code">
	FONT (fontname, style, size , forecolor [ , backcolor])
		</p>
		<p>
			где
		</p>
		<ul>
			<li><code>fontname</code> &ndash; имя шрифта, строковая  величина (например , &quot;Arial&quot;);</li>
			<li><code>style</code> &ndash; численное выражение, в результате которого получается положительное целое число;</li>
			<li><code>size</code> &ndash; размер  шрифта, целое число;</li>
			<li><code>forecolor</code> &ndash; цвет символов шрифта в системе RGB;</li>
			<li><code>backcolor</code> &ndash; цвет фона или каймы в системе RGB.</li>
		</ul>
		<p>
			Название шрифта заключается в двойные кавычки. Прописные и  строчные буквы для этого параметра различаются. Стиль &ndash; это один из атрибутов шрифта, приведенных в таблице ниже. Размер в файле MIF должен быть равен 0 для подписей в окне Карты, так как они являются атрибутами Карты и их размер определяется динамически. Основной цвет задается 24- битовым RGB-значением. Цвет фона задавать необязательно. Чтобы сделать фон прозрачным, задайте значение, равное -1.
		</p>
		<table border="1px">
			<tr>
				<td>
					<b>Style</b>
				</td>
				<td>
					<b>Эффект</b>
				</td>
			</tr>
			<tr>
				<td>
					0
				</td>
				<td>
					Обычный
				</td>
			</tr>
			<tr>
				<td>
					1
				</td>
				<td>
					Жирный
				</td>
			</tr>
			<tr>
				<td>
					2
				</td>
				<td>
					Курсив
				</td>
			</tr>
			<tr>
				<td>
					4
				</td>
				<td>
					Подчеркнутый
				</td>
			</tr>
			<tr>
				<td>
					16
				</td>
				<td>
					Контур (только для Macintosh)
				</td>
			</tr>
			<tr>
				<td>
					32
				</td>
				<td>
					С тенью
				</td>
			</tr>
			<tr>
				<td>
					256
				</td>
				<td>
					С каймой
				</td>
			</tr>
			<tr>
				<td>
					512
				</td>
				<td>
					Капитель
				</td>
			</tr>
			<tr>
				<td>
					1024
				</td>
				<td>
					Разрядка
				</td>
			</tr>
		</table>
		<p>
			Чтобы скомбинировать два и более эффекта, числа нужно сложить. Чтобы, например, задать тексту жирный и капителизированный шрифт, следует задать число 513.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--	4-5-->
		<h3 id="ch4-5">Предложение Color (цвет)</h3>
		<p>
			Color задает цвет объекта:
		</p>
		<p class="code">
	Color: число
		</p>
		<p>
			Цвета чаще всего задаются в долях красного, зеленого и синего оттенков RGB. Каждому оттенку соответствуют номера от 0 до 255; RGB-значение для цвета вычисляется по формуле:
		</p>
		<p class="code">
	(красный * 65536) &plus; (зеленый * 256) &plus; синий
		</p>
		<p>
			Вот несколько наиболее часто используемых значений:
		</p>
		<ul>
			<li>Красный: 16711680</li>
			<li>Зеленый: 65280</li>
			<li>Синий: 255</li>
			<li>Голубой: 65535</li>
			<li>Фиолетовый: 16711935</li>
			<li>Желтый: 16776960</li>
			<li>Черный: 0</li>
		</ul>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--5-->
		<h2 id="ch5">Файл формата MID</h2>
		<p>
			Файл формата MID содержит записи, между которыми стоят разделители, заданные в предложении Delimiter. Стандартный разделитель &ndash; символ табуляции. Каждая строка в MID-файле соответствует объекту в MIF-файле: первая строка соответствует первому объекту, вторая строка &ndash; второму объекту и так далее.
		</p>
		<p>
			Если символ-разделитель является частью записи, заключите такую запись в двойные кавычки.
		</p>
		<p>
			Файл формата MID может отсутствовать. В этом случае создаются пустые поля.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--6-->
		<h2 id="ch6">Список литературы</h2>
		<ol>
			<li><a href="../d/milib.html#miug">&laquo;Руководство пользователя MapInfo Professional&raquo; версии 12.5</a></li>
			<li><a href="../d/milib.html#miug">&laquo;Руководство пользователя MapInfo Professional&raquo; версии 7.5</a></li>
			<li><a href="../d/milib.html#miug">&laquo;Руководство пользователя MapInfo Professional&raquo; версии 6.0</a></li>
			<li><a href="../d/mblib.html#mbug">&laquo;Справочник MapBasic&raquo; версии 11.0</a></li>
		</ol>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

	</div>
</div></div></div></div>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
	(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
	m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
	(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
 
	ym(86922484, "init", {
		 clickmap:true,
		 trackLinks:true,
		 accurateTrackBounce:true
	});
 </script>
 <noscript><div><img src="https://mc.yandex.ru/watch/86922484" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
 <!-- /Yandex.Metrika counter -->

</body>
</html>