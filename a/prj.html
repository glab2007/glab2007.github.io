<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">

<head>
<title>О преобразовании систем координат в MapInfo &frasl;GLab&copy;2007&frasl;</title>

<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="content-type" content="text/css; charset=utf-8" />
<meta name="Author" content="GLab&copy;2007 http://www.glab2007.narod.ru" />
<meta name="Description" content="Теоретические основы преобразования систем координат в MapInfo и практические рекомендации по повышению точности преобразований координат на сайте проекта GLab&copy;2007." />
<meta name="KeyWords" content="mapinfow.prj, точность координат, система координат mapinfo" />

<link rel="shortcut icon" href="../i/favicon.ico" type="image/x-icon" />
<link rel="icon" href="../i/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" href="../style.css" />

<script src="https://yastatic.net/es5-shims/0.0.2/es5-shims.min.js" charset="utf-8"></script>
<script src="https://yastatic.net/share2/share.js" async="async" charset="utf-8"></script>
<script type="text/javascript" src="../scripts.js"></script>

</head>
<body>

<div id="left">
	<ul>
		<li class="home"><a href="../main.html" title="На главную">На <br />главную</a></li>
		<li class="news"><a href="../index.html" title="Новости" style="line-height: 36px; ">Новости</a></li>
		<li class="query"><a href="../query.html" title="Топ запросов">Топ<br />запросов</a></li>
		<li class="article"><a id="item" href="../article.html" title="Статьи" style="line-height: 36px; ">Статьи</a></li>
		<li class="download"><a href="../download.html" title="Загрузка" style="line-height: 36px; ">Загрузка</a></li>
		<li class="links"><a href="../links.html" title="Ссылки">Каталог<br />ссылок</a></li>
		<li class="about"><a href="../about.html" title="О проекте">О<br />проекте</a></li>
		<li class="contact"><a href="../contact.html" title="Контактная информация" style="line-height: 36px; ">Контакты</a></li>
		<li class="search"><a href="../main.html#search" title="Поиск">Поиск<br />по сайту</a></li>
		<li class="map"><a href="../map.html" title="Карта сайта">Карта<br />сайта</a></li>
	</ul>
</div>
<div id="arrow">
	<a href="#">
		<img src="../i/arr.gif" alt="Вверх" />
	</a>
</div>
<div class="ya-share2" data-services="vkontakte,facebook,linkedin,viber"></div>

<div id="top"></div>

<div id="border_left"><div id="border_right"><div id="border_top"><div id="border_bottom">
	<div id="content">

		<h1 class="article">
			О преобразовании систем координат в MapInfo Professional
		</h1>
		<hr class="split" />

		<div class="avatar">
			<a href="http://www.geoprofi.ru" title="Геопрофи"><img class="inline" src="prj/0.png" alt="Геопрофи" width="200px; " height="49px; " /></a>
		</div>
		<p class="small">
			Автор: А.Н. Тимофеев &copy;2005<br />
			В 1971 г. окончил НИИГАиК по специальности &laquo;прикладная геодезия&raquo;. С 1970 по 1996 г. работал в Прикладной геодезии. С 1997 г. работает в научно-техническом отделе ОАО &laquo;Стройизыскания&raquo; (Новосибирск), в настоящее время &ndash; главный специалист.
		</p>
		<p class="small">
			Автор: С.С. Легачев &copy;2005<br />
			В 2001 г. окончил СГГА по специальности &laquo;астрономо-геодезия&raquo;. С 2000 г. работает в топографо-геодезической экспедиции ОАО &laquo;Стройизыскания&raquo; (Новосибирск), в настоящее время &ndash; инженер-технолог.
		</p>
		<p class="small passage">
			Статья опубликована в журнале <a href="http://www.geoprofi.ru">Геопрофи</a> в 2005 году <sup><a href="#upd" class="font_red" title="замечания читателя">update</a></sup>.
		</p>
		<hr class="split" />

<!--Start-->
		<p>
			ГИС MapInfo Professional (MapInfo Corp., США) имеет широкое распространение в России и используется в землеустройстве, ведении территориальных кадастров, экологии, геологии, лесоустройстве и др.
		</p>
		<p>
			Координатная основа России представлена референцной системой координат. В качестве референцной системы для территории России в 1946 г. была установлена система координат 1942 г. (СК–42), а 1 июля 2002 г. &ndash; новая референцная система СК–95 [1]. За отсчетную поверхность в обеих системах координат принят референц-эллипсоид Красовского. В настоящее время СК–42 является основной в повседневной практике и будет использоваться до завершения мероприятий по переходу на СК–95.
		</p>
		<p>
			Кроме СК–42, в России используются и другие системы координат, например, система координат 1963 г. Тем не менее, большая часть топографических карт масштабов 1:10 000–1:100 000 составлены в равноугольной поперечно-циллиндрической проекции Гаусса в системе координат СК–42, а цифровые карты в растровом и векторном виде являются, в основном, производными от топографических карт в СК–42.
		</p>
		<p>
			В последнее время широкое распространение приобрели навигационные приемники GPS. Входящий в состав ГИС MapInfo программный модуль &laquo;The Geographic Tracker&raquo;, предназначенный для поддержки системы GPS, хорошо интегрируется с приемниками GPS. В числе функций, выполняемых этим модулем: отображение данных GPS-измерений в графическом и текстовом видах в режиме реального времени. Для определения координат точек местности с помощью спутниковых приемников используется абсолютный метод, который позволяет оперативно определять местоположение объекта местности в системе координат WGS–84.
		</p>
		<p>
			MapInfo поддерживает более 300 систем координат. Базовой системой координат является WGS–84, за отсчетную поверхность принят общеземной эллипсоид WGS–84. Для преобразования координат в другие системы используются &laquo;Уточняющие параметры&raquo;. Система СК–42 представлена в виде геодезических и плоских прямоугольных координат, в терминологии MapInfo они именуются &laquo;Долгота/Широта (Пулково 1942)&raquo; и &laquo;Гаусса-Крюгера (Пулково 1942)&raquo;, отсчетная поверхность системы референц-эллипсоид Красовского [2].
		</p>
		<p>
			При использовании спутниковой GPS-аппаратуры совместно с ГИС MapInfo у пользователя появляется необходимость соединить топографические карты и данные GPS, представленных в СК–42 и WGS–84, соответственно. Для этого в MapInfo выполняется преобразование координат между системами. Однако преобразование координат из системы СК–42 в WGS–84 выполняется не точно, с погрешностью &#8710;x = 21,4 м, &#8710;y = –2,6 м.
		</p>
		<p>
			На рис. 1 приведен пример нестыковки осевых линий дорожной сети, выполненной в &laquo;Гаусса-Крюгера (Пулково 1942)&raquo;, и маршрутных точек GPS в WGS–84.
			<img src="prj/1.png" alt="рисунок 1" width="265px" height="269px" />
			Рис. 1<br />
			Фрагмент нестыковки осевых линий дорожной сети в &laquo;Пулково 1942&raquo; и маршрутных точек GPS в WGS–84
		</p>
		<p>
			В общеземной WGS–84 и референцной СК–42 системах координат положение точек земной поверхности могут задаваться различными видами координат: пространственными прямоугольными координатами X, Y, Z, геодезическими В, L, Н, плоскими прямоугольными координатами х, у и т. д.
		</p>
		<p>
			Внутри каждой системы, между видами координат существуют математические связи. Так, в СК–42 геодезические координаты В, L, Н связаны с пространственными прямоугольными координатами X, Y, Z, согласно [3], следующими соотношениями:
			<img src="prj/2.png" alt="" width="150px" height="60px" />
			где a и b &ndash; полуоси эллипсоида,
			<img src="prj/3.png" alt="" width="150px" height="40px" />
		</p>
		<p>
			Связь между различными системами устанавливается, например, через пространственные прямоугольные координаты этих систем. Для этого используются следующие элементы трансформирования: три линейных (смещение начала координат), три угловых (разворот осей координат) и масштабный коэффициент (линейный масштаб одной системы относительно другой).
		</p>
		<p>
			В общем случае преобразование координат между системами осуществляется с использованием элементов трансформирования, согласно [3], по формуле:
			<img src="prj/4.png" alt="" width="200px" height="150px" />
			где &#8710;x, &#8710;y, &#8710;z &ndash; линейные элементы трансформирования;<br />
			&#969;x, &#969;y, &#969;z &ndash; угловые элементы трансформирования;<br />
			m &ndash; дифференциальное различие масштабов систем координат;<br />
			А, Б &ndash; системы координат.
		</p>
		<p>
			Можно предположить, что в MapInfo используются приближенные элементы трансформирования &laquo;Пулково 1942&raquo;, задающие ориентировку референц-эллипсоида Красовского относительно общеземного эллипсоида WGS–84. В то же время MapInfo позволяет уточнять модели референц-эллипсоидов с использованием элементов трансформирования, в терминологии MapInfo &ndash; &laquo;параметров&raquo;. Поэтому логично ввести в &laquo;Пулково 1942&raquo; соответствующую корректировку. Для этого необходимо сначала определить элементы трансформирования между системами WGS–84 и СК–42, а затем, используя полученные элементы, уточнить в MapInfo координатную систему. Полученную систему назовем, например, &laquo;Пулково 42–WGS&raquo;.
		</p>
		<p>
			Изменение координатной системы в MapInfo осуществляется путем ввода соответствующих элементов трансформирования в файл &laquo;MapInfo.prj&raquo;. Элементы трансформирования между системами WGS-84 и &laquo;Пулково 42–WGS&raquo; можно получить, например, с помощью программного обеспечения, предназначенного для обработки данных спутниковых геодезических измерений.
		</p>
		<p>
			Для каждой системы координат файл &laquo;MapInfo.prj&raquo; содержит список определяющих ее параметров, записанных в одну строку. Например, строка, определяющая &laquo;Пулково 1942&raquo;, в виде геодезических координат выглядит так:
		</p>
		<p class="code">
	&quot;Долгота/Широта (Пулково 1942)&quot;, 1, 1001
		</p>
		<p>
			Строка, определяющая систему плоских прямоугольных координат &laquo;Пулково 1942&raquo; для 14-й зоны в проекции Гаусса-Крюгера, приведена в следующем виде:
		</p>
		<p class="code">
	&quot;GK зона 14 (Пулково 1942)/p28414&quot;, 8, 1001, 7, 81, 0, 1, 14500000, 0
		</p>
		<p>
			Первым значением в строке описания задается название координатной системы в кавычках. Затем следует номер, задающий вид проекции и, далее, значения параметров координатной системы.
		</p>
		<p>
			Отредактировав файл &laquo;Mapinfo.prj&raquo;, подставив значения элементов трансформирования, как описано в руководстве [2], получим определение новой координатной системы &laquo;Пулково 42–WGS&raquo;.
		</p>
		<p>
			Например, строка, определяющая новую систему координат &laquo;Пулково 42–WGS&raquo;, в виде геодезических координат должна выглядеть следующим образом:
		</p>
		<p class="code">
	&quot;Долгота/Широта (Пулково 42–WGS)&quot;, 1, 9999, 3, 26,3, –132,6, –76,3, –0,22, –0,4, –0,9, –0,12, 0
		</p>
		<p>
			Строка, определяющая систему плоских прямоугольных координат новой &laquo;Пулково 42–WGS&raquo; для 14-й зоны в проекции Гаусса-Крюгера, должна быть введена в следующем виде:
		</p>
		<p class="code">
	&quot;GK зона 14 (Пулково 42–WGS)/p28414&quot;, 8, 9999, 3, 26,3, –132,6, –76,3, –0,22, –0,4, –0,9, –0,12, 0, 7, 81, 0, 1, 14500000, 0
		</p>
		<p>
			Указанные элементы трансформирования являются также приближенными, но позволяют на порядок повысить точность пересчета координат между системами &laquo;Пулково 42-WGS&raquo; и WGS-84 в MapInfo, приблизив ее к метровой точности (рис. 2).
			<img src="prj/5.png" alt="Рисунок 2" width="265px" height="271px" />
			Рис. 2<br />
			Фрагмент данных осевых линий дорожной сети в &laquo;Пулково 42–WGS&raquo;, совмещенных с маршрутными точками GPS в WGS–84
		</p>
		<p>
			Точные элементы трансформирования между системами координат могут быть получены, например, в результате совместного уравнивания результатов спутниковых и наземных измерений [4], включая элементы трансформирования при уравнивании в качестве дополнительных неизвестных.
		</p>
		<p>
На практике, при работе в MapInfo с данными навигационных приемников GPS, метровая точность пересчета является достаточной, чему удовлетворяют приведенные элементы трансформирования.
		</p>
		<hr class="split" />

		<h2>Список литературы</h2>
		<ol>
			<li>Постановление Правительства РФ &laquo;Об установлении государственных систем координат&raquo; № 568 от 28 июля 2000 г.</li>
			<li>MapInfo Professional. Руководство пользователя. &ndash; Нью-Йорк: MapInfo Corp., 2000.</li>
			<li>ГОСТ Р51794–2001. Системы координат. Методы преобразований координат определяемых точек. &ndash; М.: Госстандарт РФ, 2001.</li>
			<li>Маркузе Ю.И. Алгоритм объединения наземных и спутниковых геодезических сетей // Геодезия и картография. &ndash; 1997. &ndash; № 9.</li>
		</ol>
		<hr class="split" />

		<h2>RESUME</h2>
		<p>
			Errors of the coordinate transformation for the &laquo;1942&raquo; (SK–42) and WGS–84 coordinate systems in the MapInfo are estimated as 21,4 m for the x axis and –2,6 m for the y axis. This accuracy is insufficient for certain tasks when contemporary (including navigational) GPS-systems are used.
		</p>
		<p>
			An algorithm for correction of the transformation elements for the SK–42 coordinate systems relative to the basic WGS–84 coordinate system using MapInfo standard tools is presented. This correction is aimed at the accuracy improvement.
		</p>
		<hr class="split" />
		
		<p>
			<a href="http://www.geoprofi.ru/default.aspx?mode=binary&amp;id=264">Загрузить оригинал статьи (236 KB) &gt;&gt;&gt;</a>
		</p>
		<p>
			<a href="prj/prj.zip">Загрузить копию (ZIP, 224 KB) &gt;&gt;&gt;</a>
		</p>
		<hr class="split" />

		<p id="upd">
			<span class="font_red">UPD:</span><br />
			В адрес сайта пришло письмо читателя, в котором он высказал совершенно справедливые замечания. Цитата:
		</p>
		<div class="small passage">
			<p>
				В статье на Вашем сайте приведены параметры согласно ГОСТ Р51794–2001, но в настоящий момент он отменен и действует ГОСТ Р51794–2008 (&hellip;)
			</p>
			<p>
				Согласно ГОСТ Р51794–2008:<br />
				&quot;Долгота / Широта (Пулково 1942–WGS ГОСТ 51794-2008)&quot;, 1, 9999, 3, 23.56, -140.95, -79.8, 0, -0.35, -0.79, -0.22, 0<br />
				&quot;&mdash; Гаусса-Крюгера (Пулково 1942-WGS ГОСТ 51794-2008) &mdash;&quot;<br />
				&quot;GK зона 1 (Пулково 1942–WGS)&quot;, 8, 9999, 3, 23.56, -140.95, -79.8, 0, -0.35, -0.79, -0.22, 0, 7, 3, 0, 1, 1500000, 0<br />
				и т.д.
			</p>
			<p>
				Для 3-х градусных зон СК-42:<br />
				&quot;GK зона 7  (Пулково 1942)&quot;, 8, 9999, 3, 23.56, -140.95, -79.8, 0, -0.35, -0.79, -0.22, 0, 7, 3, 0, 1, 7500000, 0<br />
				и т.д.
			</p>
			<p>
				Для СК-63:<br />
				&quot;1963_номер зоны&quot;, 8, 9999, 3, 23.56, -140.95, -79.8, 0, -0.35, -0.79, -0.22, 0, 7, хх.хх, у.уууууу, 1, aaaaaaa, 0<br />
				и т.д.
			</p>
			<p>
				С уважением,<br />
				ведущий маркшейдер маркшейдерско-геодезического отдела<br />
				ООО &laquo;Газпром нефть шельф&raquo;<br />
				Донецков Андрей Александрович
			</p>
		</div>
	</div>

</div></div></div></div>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
	(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
	m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
	(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
 
	ym(86922484, "init", {
		 clickmap:true,
		 trackLinks:true,
		 accurateTrackBounce:true
	});
 </script>
 <noscript><div><img src="https://mc.yandex.ru/watch/86922484" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
 <!-- /Yandex.Metrika counter -->

</body>
</html>