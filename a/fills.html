<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru">

<head>
<title>Редактирование стилей площадных заливок MapInfo &frasl;GLab&copy;2007&frasl;</title>

<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="content-type" content="text/css; charset=utf-8" />
<meta name="Author" content="GLab&copy;2007 http://www.glab2007.narod.ru" />
<meta name="Description" content="Создание и изменение стилей площадных заливок MapInfo. Редактирование файла ресурсов MapInfo. Описание работы и практические примеры на сайте проекта GLab&copy;2007." />
<meta name="KeyWords" content="заливка площадных объектов mapinfo, редактирование стилей" />

<link rel="shortcut icon" href="../i/favicon.ico" type="image/x-icon" />
<link rel="icon" href="../i/favicon.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" href="../style.css" />

<script src="https://yastatic.net/es5-shims/0.0.2/es5-shims.min.js" charset="utf-8"></script>
<script src="https://yastatic.net/share2/share.js" async="async" charset="utf-8"></script>
<script type="text/javascript" src="../scripts.js"></script>

</head>
<body>

<div id="left">
	<ul>
		<li class="home"><a href="../main.html" title="На главную">На <br />главную</a></li>
		<li class="news"><a href="../index.html" title="Новости" style="line-height: 36px; ">Новости</a></li>
		<li class="query"><a href="../query.html" title="Топ запросов">Топ<br />запросов</a></li>
		<li class="article"><a id="item" href="../article.html" title="Статьи" style="line-height: 36px; ">Статьи</a></li>
		<li class="download"><a href="../download.html" title="Загрузка" style="line-height: 36px; ">Загрузка</a></li>
		<li class="links"><a href="../links.html" title="Ссылки">Каталог<br />ссылок</a></li>
		<li class="about"><a href="../about.html" title="О проекте">О<br />проекте</a></li>
		<li class="contact"><a href="../contact.html" title="Контактная информация" style="line-height: 36px; ">Контакты</a></li>
		<li class="search"><a href="../main.html#search" title="Поиск">Поиск<br />по сайту</a></li>
		<li class="map"><a href="../map.html" title="Карта сайта">Карта<br />сайта</a></li>
	</ul>
</div>
<div id="arrow">
	<a href="#">
		<img src="../i/arr.gif" alt="Вверх" />
	</a>
</div>
<div class="ya-share2" data-services="vkontakte,facebook,linkedin,viber"></div>

<div id="top"></div>

<div id="border_left"><div id="border_right"><div id="border_top"><div id="border_bottom">
	<div id="content">

		<h1 class="article">
			Редактирование стилей площадных заливок MapInfo
		</h1>
		<hr class="split" />

		<p class="small">
			<b>Необходимое вступление</b>
		</p>
		<p class="small">
			Изначально эта статья задумывалась как логическое продолжение темы, затронутой в &laquo;<a href="lstyle.html" title="Перейти">Редактирование стилей линий MapInfo</a>&raquo;. Предполагалось, что таким образом будет сформирован цикл статей, посвящённых модернизации средств визуального оформления графических материалов в MapInfo Professional. Но, ещё на этапе подготовки, выяснилось, что на сайте &laquo;<a href="http://gis-lab.info/" title="Перейти">ГИС Лаборатории</a>&raquo; опубликован текст аналогичной тематики &laquo;<a href="http://gis-lab.info/qa/mapinfo-custom-fill-patterns.html" title="Перейти">Создание собственных стилей площадных заливок в MapInfo</a>&raquo;. Чтобы не &laquo;плодить сущности&raquo;, работа над статьёй была приостановлена.
		</p>
		<p class="small">К сожалению, упомянутый текст устарел сразу же, как только вышла <a href="http://mapinfo.ru/product/mapinfo-professional#estimap-tab-254" title="Перейти">MapInfo Professional версии 12.5х</a>. Кроме того, в статье на GIS-Lab, безусловно, интересной и категорически рекомендуемой к прочтению, не были упомянуты некоторые важные аспекты. С учётом этих соображений, статья была дописана с небольшими изменениями. Некоторые парафразы в тексте, тем ни менее, неизбежны, что и вызвало необходимость написания этого вступления.
		</p>

<!--0-->
		<ul id="toc">
			<li><a href="#ch1">Введение</a></li>
			<li><a href="#ch2">Заливки площадных объектов MapInfo</a></li>
			<li><a href="#ch3">Ресурсы программы</a></li>
			<li><a href="#ch4">Редакторы ресурсов</a></li>
			<li><a href="#ch5">Размещение файла ресурсов</a></li>
			<li><a href="#ch6">Содержание файла ресурсов</a></li>
			<li><a href="#ch7">Параметры образца заливки</a></li>
			<li><a href="#ch8">Приведение к масштабу</a></li>
			<li><a href="#ch9">Практические примеры</a></li>
			<li><a href="#ch10">Создание и редактирование изображения</a></li>
			<li><a href="#ch11">Создание образца заливки</a></li>
			<li><a href="#ch12">Изменение образца заливки</a></li>
			<li><a href="#ch13">Пример результатов редактирования</a></li>
		</ul>
		<hr class="split" />


<!--1-->
		<h2 id="ch1">Введение</h2>
		<p>
			Как уже неоднократно утверждалось, средства визуального оформления графически материалов в MapInfo Professional до отвратительности скудны и неуважительно непригодны к реальному использованию. И, что ещё ужаснее для неофита, никаких штатных средств для исправления ситуации нет и не предвидится. Но, как известно, &laquo;нужда изощряет ум&raquo;. При вдумчивом рассмотрении оказывается, что на каждое подобную проблему у пользователей MapInfo есть своё решение в виде &laquo;болта на 28 с левой резьбой&raquo;. Модернизируется, причём без особых усилий, все средства оформления, пусть и при помощи разнообразных уловок.
		</p>
		<p>
			О редактировании стилей линий говорилось в <a href="lstyle.html" title="Перейти">предыдущей статье</a>, а сейчас речь пойдёт о редактировании заливок площадных объектов в MapInfo Professional.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--2-->
		<h2 id="ch2">Заливки площадных объектов MapInfo</h2>
		<p>
			Термин &laquo;заливка&raquo; применительно к площадным объектам в русскоязычной версии MapInfo Professional, как таковой, не используется. Вместо этого введён термин &laquo;штриховка&raquo; (?!), в чём можно убедиться, открыв диалог оформления площадного объекта:
		</p>
		<img src="fills/1.png" alt="Рис. 1" width="339px" height="378px" />
		<p>
			Сложно понять, почему именно так переведён термин &laquo;Fill&raquo; (<a href="http://www.translate.ru/dictionary/en-ru/fill" title="Перейти">fiil (en) &ndash;&gt; заливка</a>) англоязычной версии (скриншот из версии MapInfo 5.5):
		</p>
		<img src="fills/2.png" alt="Рис. 2" width="266px" height="411px" />
		<p>
			Как бы там ни было, разночтения локализаций программы не должно вводить в смущение, &laquo;говорим &ndash; партия, подразумеваем &ndash; Ленин&raquo;, т.е. речь всё равно пойдет именно о заполнении контуров площадных объектов указанным рисунком по определённым правилам.
		</p>
		<p>
			Именно &laquo;рисунком&raquo;, кстати. Заливки в MapInfo никак не векторные, а представляют собой растровое изображение, тиражируемое по площади контура.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--3-->
		<h2 id="ch3">Ресурсы программы</h2>
		<p>
			Отдельного файла (каталога) для размещения образцов заливок, по подобию MAPINFOW.PEN или /CUSTSYMB, в MapInfo нет. Вместо этого используется загрузка изображений из файла ресурсов, некого мульти-файла, в который могут входить данные абсолютно любого типа, будь то строковые данные, изображения, или целые файлы. Скомпилированные ресурсы могут храниться в различных форматах. В случае Windows-программ это, наиболее вероятно, EXE-файлы или, как в настоящем случае, DLL(динамически подключаемая библиотека).
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--4-->
		<h2 id="ch4">Редакторы ресурсов</h2>
		<p>
			Прежде чем начинать работу, необходимо учесть следующие моменты:
		</p>
		<p>
			При разговоре о редактировании заливок MapInfo нельзя не упомянуть &laquo;<a href="http://map-info.ru/prog.html" title="Перейти">Редактор заливок площадных объектов</a>&raquo; от <a href="http://map-info.ru/contacts.html" title="Перейти">группы независимых разработчиков</a>. Эта, во всех смыслах, замечательная программа предоставляет возможность оперативного редактирования заливок MapInfo, не отвлекая пользователя на ненужные ему технические аспекты. Недостаток, если можно так сказать, у неё ровно один &ndash; она, к сожалению, платная и поэтому обсуждаться в данной статье не будет.
В общем же случае, для редактирования скомпилированных ресурсов (DLL, EXE) используются специальные программы &ndash; <a href="https://yandex.ru/search/?text=%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80%20%D1%80%D0%B5%D1%81%D1%83%D1%80%D1%81%D0%BE%D0%B2&amp;lr=213" title="Перейти">редакторы ресурсов</a>. Их на рынке программного обеспечения довольно много, но в данной статье будет использоваться исключительно <a href="https://ru.wikipedia.org/wiki/Resource_Hacker" title="Перейти">Resource Hacker</a>. Программа Ангуса Джонсона (<a href="http://www.angusj.com/" title="Перейти">Angus Johnson</a>) выгодно отличается от прочих полной бесплатностью и портабельностью при весьма развитой функциональности. <a href="http://www.angusj.com/resourcehacker/#download" title="Перейти">Скачать программу</a> можно как в виде инсталлятора, так и ZIP-архива. После распаковки программа готова к использованию:
		</p>
		<div style="width: 400px !important; ">
			<a href="fills/3.png" title="Развернуть"><img src="fills/s3.png" alt="Рис. 3" width="400px" height="220px" /></a>
		</div>
		<p>
			Необходимо сразу оговорить тот факт, что Resource Hacker не умеет редактировать хранимые в файле ресурсов изображения. Для изменения их необходимо предварительно извлечь из файла, сохранить на диске, отредактировать в стороннем редакторе и только потом загрузить изменённое изображение в ту же DLL.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--5-->
		<h2 id="ch5">Размещение файла ресурсов</h2>
		<p>
			Как говорилось уже, образцы заливок MapInfo хранятся в динамических библиотеках (DLL) в корневом каталоге программы. Имена этих библиотек менялись для каждой версии. Ниже приведена сводная ведомость библиотек с ресурсами образцов заливок для разных версий MapInfo:
		</p>
		<table class="content">
			<tr>
				<td>
					<b>Версия MapInfo</b>
				</td>
				<td>
					<b>Файл ресурсов</b>
				</td>
			</tr>
			<tr>
				<td>
					5.0
				</td>
				<td>
					mires501.dll
				</td>
			</tr>
			<tr>
				<td>
					5.5
				</td>
				<td>
					MIRES550.DLL
				</td>
			</tr>
			<tr>
				<td>
					6.5
				</td>
				<td>
					mires650.dll
				</td>
			</tr>
			<tr>
				<td>
					7.0
				</td>
				<td>
					MIRES700.DLL
				</td>
			</tr>
			<tr>
				<td>
					7.5
				</td>
				<td>
					MIRES750.DLL
				</td>
			</tr>
			<tr>
				<td>
					8.0
				</td>
				<td>
					mires800.dll
				</td>
			</tr>
			<tr>
				<td>
					8.5
				</td>
				<td>
					mires850.dll
				</td>
			</tr>
			<tr>
				<td>
					9.0
				</td>
				<td>
					MIRES900.dll
				</td>
			</tr>
			<tr>
				<td>
					9.5
				</td>
				<td>
					mires950.dll
				</td>
			</tr>
			<tr>
				<td>
					10.0
				</td>
				<td>
					mires.dll
				</td>
			</tr>
			<tr>
				<td>
					10.5
				</td>
				<td>
					mires.dll
				</td>
			</tr>
			<tr>
				<td>
					11.0
				</td>
				<td>
					micore.dll
				</td>
			</tr>
			<tr>
				<td>
					11.5
				</td>
				<td>
					micore.dll
				</td>
			</tr>
			<tr>
				<td>
					12.0
				</td>
				<td>
					micore.dll
				</td>
			</tr>
			<tr>
				<td>
					12.5
				</td>
				<td>
					MIAuxResources.dll
				</td>
			</tr>
		</table>
		<p>
			Т.е., как видно из приведённой таблицы, с версии 5.0 до версии 10.0 имена библиотеки ресурсов имели вид MIRES (MapInfo RESource) + номер версии. В версии 10 имена лишились цифрового постфикса. Для версий 11.х и 12.0 библиотека имеет имя micore (mapinfo core). На уровне версии 12.5 (последней на текущий момент) библиотека претерпела значительные изменения и получила имя MIAuxResources.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--6-->
		<h2 id="ch6">Содержание файла ресурсов</h2>
		<p>
			Файл ресурсов может содержать любые данные. Они структурированы по типам и названия этих типов строго регламентированы:
		</p>
		<div style="width: 400px !important; ">
			<a href="fills/4.png" title="Развернуть"><img src="fills/s4.png" alt="Рис. 4" width="400px" height="220px" /></a>
		</div>
		<p>
			Как видно из приведённых скриншотов, состав ресурсов изменялся со временем. Так, на нижних версиях DLL представляла банальную &laquo;свалку&raquo; всех мыслимых ресурсов программы: иконки панели инструментов, клавиши-акселераторы, диалоги программы, курсоры и прочее. На версиях выше исчезают диалоги и акселераторы, появляется новый тип для иконок панели инструментов, хотя и старые иконки остаются. И на этапе последней версии в DLL только 3 типа, причём два из них, по сути, служебные.
		</p>
		<p>
			Но, из всего многообразия представленных типов, для редактирования образцов заливок интересен только раздел типа &laquo;Bitmap&raquo;. <a href="https://ru.wikipedia.org/wiki/Bitmap" title="Перейти">Bitmap</a> &ndash; это и есть растровое изображение, обычно в формате BMP.
		</p>
		<p>
			Изображения в разделе Bitmap отсортированы по возрастающим номерам:
		</p>
		<div style="width: 400px !important; ">
			<a href="fills/5.png" title="Развернуть"><img src="fills/s5.png" alt="Рис. 5" width="400px" height="220px" /></a>
		</div>
		<p>
			Надо заметить, что и сам раздел Bitmap подвергался изменениям от версии к версии. На нижних версиях, помимо образцов заливки, в этот тип также были записаны иконки кнопок некоторых диалогов (местоположение подписи, вид диаграммы и пр.). Номера изображений с заливками при этом имели номер меньше 900, остальные же, соответственно, больше:
		</p>
		<div style="width: 400px !important; ">
			<a href="fills/6.png" title="Развернуть"><img src="fills/s6.png" alt="Рис. 6" width="400px" height="220px" /></a>
		</div>
		<p>
			MIAuxResources .dll (файл ресурсов последней версии программы) Bitmap содержит уже исключительно образцы заливок. Т.е. очевидно, что происходит постепенное упорядочивание внутренней структуры программы, что, безусловно, обнадёживает.
		</p>
		<p>
			Кроме того, надо упомянуть, что количество образцов заливок также изменялось со временем:
		</p>
		<table class="content">
			<tr>
				<td>
					<b>Версия MapInfo</b>
				</td>
				<td>
					<b>Количество образцов заливок</b>
				</td>
			</tr>
			<tr>
				<td>
					5.0
				</td>
				<td>
					61
				</td>
			</tr>
			<tr>
				<td>
					5.5
				</td>
				<td>
					61
				</td>
			</tr>
			<tr>
				<td>
					6.5
				</td>
				<td>
					61
				</td>
			</tr>
			<tr>
				<td>
					7.0
				</td>
				<td>
					61
				</td>
			</tr>
			<tr>
				<td>
					7.5
				</td>
				<td>
					165
				</td>
			</tr>
			<tr>
				<td>
					8.0
				</td>
				<td>
					165
				</td>
			</tr>
			<tr>
				<td>
					8.5
				</td>
				<td>
					165
				</td>
			</tr>
			<tr>
				<td>
					9.0
				</td>
				<td>
					165
				</td>
			</tr>
			<tr>
				<td>
					9.5
				</td>
				<td>
					165
				</td>
			</tr>
			<tr>
				<td>
					10.0
				</td>
				<td>
					165
				</td>
			</tr>
			<tr>
				<td>
					10.5
				</td>
				<td>
					165
				</td>
			</tr>
			<tr>
				<td>
					11.0
				</td>
				<td>
					165
				</td>
			</tr>
			<tr>
				<td>
					11.5
				</td>
				<td>
					176
				</td>
			</tr>
			<tr>
				<td>
					12.0
				</td>
				<td>
					183
				</td>
			</tr>
			<tr>
				<td>
					12.5
				</td>
				<td>
					183
				</td>
			</tr>
		</table>
		<p>
			Сравним &ndash; заливка MapInfo 5.5 vs заливка MapInfo 12.5:
		</p>
		<div>
			<img class="inline" src="fills/7_1.png" alt="Рис. 7" width="266px" height="404px" />
			<img class="inline" src="fills/7_2.png" alt="Рис. 7" width="393px" height="378px" />
		</div>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--7-->
		<h2 id="ch7">Параметры образца заливки</h2>
		<p>
			Сами же образцы заливки обладает рядом характеристик, которые необходимо учитывать при работе с ними.
		</p>

		<h3>Формат изображения</h3>
		<p>
			Допустимы любые растровые изображения в формате BMP и только в BMP. Попытка использовать изображение иного формата приведет к загрузке последнего в раздел, отличный от Bitmap. В лучшем случае. Или к ошибке структуры DLL &ndash; в худшем.
		</p>

		<h3>Размер изображения</h3>
		<p>
			На нижних версиях образцы были строго 8*8 пикселей (px). С повышением версии стали получать размеры 16&times;16 px, а впоследствии и 32&times;32 px. Экспериментально было установлено, что загружать можно изображения любого размера и любых пропорций. Они будут корректно отображаться в списке и на объекте, но большие изображения существенно замедляют их прорисовку.
		</p>

		<h3>Цвет изображения</h3>
		<p>
			Экспериментально было установлено, что можно использовать любые цвета при оформлении образцов заливок. Однако, необходимо учитывать, что маски цвета по умолчанию следующие: цвет подложки &ndash; белый, цвет узора &ndash; чёрный. При использовании отличных цветов не будет происходить смена цвета подложки/узора в диалоге настройки стиля объекта.
		</p>

		<h3>Глубина цвета изображения</h3>
		<p>
			По умолчанию, все образцы заливок из стандартной поставки имеют глубину цвета 1 bpp (бит-на-пиксель), и индексированную, соответственно, палитру. Экспериментально было установлено, что использование индексированной палитры при глубине цвета отличной от 1 bpp приводит к ошибке структуры DLL. Таким образом, допустимо использование либо монохромных изображений, либо полноцветных с глубиной 16 и более bpp.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--8-->
		<h2 id="ch8">Приведение к масштабу</h2>
		<p>
			Как известно, заливки площадных объектов MapInfo, так же как и линии, являются немасштабируемыми, т.е. вид условного знака не изменяются в зависимости от выставленного масштаба. И так же, как и в <a href="lstyle.html#ch11" title="Перейти">случае с линиями</a>, для корректного отображения заливки в готовой карте, образец необходимо готовить под конкретный масштаб.
		</p>
		<p>
			Растровое изображение образца заливки измеряется в пикселях. Размер пикселя напрямую зависит от разрешения изображения. Внутреннее разрешение MapInfo равняется 96 DPI. Таким образом, размер пикселя для MapInfo составляет:
		</p>
		<p class="code">
	1 дюйм / 96 DPI = 25,4 мм / 96 DPI = 0,26458(3) мм &asymp; 0,265 мм
		</p>
		<p>
			Исходя из этого, можно создавать элементы образца заливки, которые будут более-менее соответствовать требованиям к оформлению в определённом масштабе.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--9-->
		<h2 id="ch9">Практические примеры</h2>
		<p>
			Для иллюстрации всего сказанного, ниже будут даны практические примеры создания и изменения образцов заливки площадных объектов MapInfo.
		</p>
		<p>
			Примеры будут реализованы на примере файла ресурсов MapInfo 12.5 (32-bit). Для работы с файлом ресурсов будет использоваться программа Resource Hacker 4.2.5. Для редактирования изображений будет использоваться программа <a href="http://windows.microsoft.com/ru-ru/windows/using-paint#1TC=windows-8" title="Перейти">MicroSoft Paint 6.3</a>.
		</p>
		<p>
			Необходимо упомянуть несколько важных моментов, связанных с редактированием файлов ресурсов программы (и не только MapInfo Professional).
		</p>
		<p>
			Во-первых, категорически нельзя редактировать файлы программы &laquo;наживую&raquo;, т.е. при запущенной копии программы. Да, возможно, ничего страшного при этом не произойдёт. Но более чем вероятна ситуация, при которой критичная для работы DLL будет безвозвратно испорчена.
		</p>
		<p>
			Кроме того, крайне желательно заранее сделать резервную копию оригинальной DLL. Несмотря на всю незначимость сделанных изменений, необходимо понимать, что производится всё же несанкционированное вмешательство в скомпилированный код программы. С непредсказуемыми, само собой, последствиями.
		</p>
		<p>
			И, наконец, самый &laquo;тонкий&raquo; момент, напрямую связанный с предыдущим абзацем. Вмешательство в скомпилированный код программы, его изменение формально (формально!) нарушают права правообладателя и лишают пользователя технической поддержки. Поэтому резервную копию оригинальной DLL иметь необходимо в обязательном порядке.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--10-->
		<h2 id="ch10">Создание и редактирование изображения</h2>
		<p>
			Для создания или редактирования изображения, исходного для образца заливки, можно использовать любой графический редактор, способный редактировать глубину цвета и сохранять изображение в формате BMP. Редактор Paint из стандартной поставки Microsoft Windows вполне удовлетворяет этим требованиям.
		</p>
		<p>
			Для примера и последующего использования воспроизведём условный знак &laquo;Луговая травянистая растительность высотой менее 1 м&raquo; (№369, &laquo;Условные знаки для топографической карты масштаба 1:10000&raquo;, М., &laquo;Недра&raquo;, 1977):
		</p>
		<img src="fills/8.png" alt="Рис. 8" width="150px" height="80px" />
		<p>
			Рассчитываем параметры:
		</p>
		<ul>
			<li>длина штриха 0,8 мм соответствует 3 px;</li>
			<li>расстояние между штрихами 0,6 мм соответствует 2 px;</li>
			<li>Расстояние между знаками 4,0 мм соответствует 16 px.</li>
		</ul>
		<p>
			Таким образом, поле для образца заливки можно создавать равным 32&times;32 px:
		</p>
		<div style="width: 300px !important; ">
			<a href="fills/9.png" title="Развернуть"><img src="fills/s9.png" alt="Рис. 9" width="300px" height="240px" /></a>
		</div>
		<p>
			<a href="fills/369.bmp" title="Загрузить">Готовый файл образца заливки в формате BMP &gt;&gt;&gt;</a>
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--11-->
		<h2 id="ch11">Создание образца заливки</h2>
		<p>
			Для создания образца заливки площадных объектов MapInfo запустим программу Resource Hacker и загрузим в неё файл ресурсов MIAuxResources.dll (меню <i>File &rarr; Open&hellip;</i>). После развернём раздел Bitmap, выделив его в левом поле и выполнив команду меню <i>View &rarr; Expand Treeview</i>:
		</p>
		<div style="width: 400px !important; ">
			<a href="fills/10.png" title="Развернуть"><img src="fills/s10.png" alt="Рис. 10" width="400px" height="220px" /></a>
		</div>
		<p>
			Как видно, последний номер образца заливки &ndash; 183. Число после номера означает локаль языка (1033), для которого создан данный ресурс. Эти данные необходимо запомнить.
		</p>
		<p>
			После этого вызовем диалог добавления нового двоичного ресурса (меню <i>Action &rarr; Add Single Binary or Image Resource&hellip;</i>):
		</p>
		<img src="fills/11.png" alt="Рис. 11" width="244px" height="326px" />
		<p>
			Затем, по кнопке <i>Select File&hellip;</i> выберем подготовленный файл <a href="fills/369.bmp" title="Загрузить">369.BMP</a>:
		</p>
		<img src="fills/12.png" alt="Рис. 12" width="244px" height="326px" />
		<p>
			Поля диалога должны принять вид:
		</p>
		<ul>
			<li><i>Resource Type</i> &ndash; Bitmap (вместо RCDATA);</li>
			<li><i>Resource Name</i> &ndash; 184;</li>
			<li><i>Resource Language</i> &ndash; не заполнено.</li>
		</ul>
		<p>
			По нажатии кнопки <i>Add Resource</i> образец заливки будет добавлен в раздел Bitmap под номером 184:
		</p>
		<div style="width: 400px !important; ">
			<a href="fills/13.png" title="Развернуть"><img src="fills/s13.png" alt="Рис. 13" width="400px" height="220px" /></a>
		</div>
		<p>
			Остаётся выполнить необязательную манипуляцию &ndash; сменить язык ресурса. Для этого выполним команду меню <i>Action &rarr; Change Language for this Resource&hellip;</i> и в открывшемся диалоге заполним поле <i>Lang. ID</i>:
		</p>
		<img src="fills/14.png" alt="Рис. 12" width="240px" height="245px" />
		<p>
			Теперь остаётся только сохранить отредактированный файл (меню <i>File &rarr; Save</i>) и скопировать его в корневой каталог MapInfo.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--12-->
		<h2 id="ch12">Изменение образца заливки</h2>
		<p>
			Для изменения образца заливки площадных объектов MapInfo повторим начальные действия, описанные выше, и перейдём к ресурсу 184:
		</p>
		<div style="width: 400px !important; ">
			<a href="fills/15.png" title="Развернуть"><img src="fills/s15.png" alt="Рис. 15" width="400px" height="220px" /></a>
		</div>
		<p>
			Теперь необходимо извлечь изображение ресурса для последующего редактирования. Для этого выполним команду меню <i>Action &rarr; Save *.bmp resource&hellip;</i> и сохраним изображение в файл под именем 183.bmp.
		</p>
		<p>
			Открыв получившийся файл в редакторе, изменим цветность и заменим цвета узора: 
		</p>
		<div style="width: 300px !important; ">
			<a href="fills/16.png" title="Развернуть"><img src="fills/s16.png" alt="Рис. 16" width="300px" height="240px" /></a>
		</div>
		<p>
			Сохранив изменённый рисунок, вернемся в Resource Hacker к ресурсу 183 и выполним команду меню <i>Action &rarr; Replace Bitmap&hellip;</i>. В диалоговом окне замены изображения по кнопке <i>Open file with new bitmap&hellip;</i> выберем изменённый файл 183.BMP:
		</p>
		<div style="width: 267px !important; ">
			<a href="fills/17.png" title="Развернуть"><img src="fills/s17.png" alt="Рис. 17" width="267px" height="252px" /></a>
		</div>
		<p>
			После нажатия кнопки <i>Replace</i> изображение образца заливки будет заменено:
		</p>
		<div style="width: 400px !important; ">
			<a href="fills/18.png" title="Развернуть"><img src="fills/s18.png" alt="Рис. 18" width="400px" height="220px" /></a>
		</div>
		<p>
			Теперь остаётся только сохранить отредактированный файл (меню <i>File &rarr; Save</i>) и скопировать его в корневой каталог MapInfo.
		</p>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

<!--13-->
		<h2 id="ch13">Пример результатов редактирования</h2>
		<div style="width: 280px !important; ">
			<a href="fills/19.png" title="Развернуть"><img src="fills/s19.png" alt="Рис. 19" width="280px" height="230px" /></a>
		</div>
		<div class="split">
			<a href="#toc">К оглавлению &gt;&gt;&gt;</a>
			<hr />
		</div>

	</div>
</div></div></div></div>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
	(function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
	m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
	(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
 
	ym(86922484, "init", {
		 clickmap:true,
		 trackLinks:true,
		 accurateTrackBounce:true
	});
 </script>
 <noscript><div><img src="https://mc.yandex.ru/watch/86922484" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
 <!-- /Yandex.Metrika counter -->

</body>
</html>